# Задача:
* ОС: Windows

* Язык: JavaSE

* Библиотеки: libGDX

- Реализовать модель игрового автомата, имеющего 5 вращающихся барабанов с 3-мя символами в видимом поле:

    X01 X02 X03 X04 X05 <br /> 
    X11 X12 X13 X14 X15 <br />
    X21 X22 X23 X24 X25 <br />

- Добавить мигающую кнопку «Start», запускающую барабаны во вращение;
Время вращения – 4-5 секунд. Барабаны должны вращаться с разной скоростью и останавливаться последовательно друг за другом.
- Внизу экрана шрифтом отображать текущий fps программы.
- Продемонстрировать владение принципами и приемами ООП
- Текстуры рисовать не нужно, можно взять любые.
- Приложить текст программы и свои комментарии по ее структуре.

# Комментарии по структуре

Приложение разделено на два слоя:
* SERVICE
* UI (VIEW)

## SERVICE
Роль сервисов - предоставление VIEW данных для отображения пользователю.

Метод интерфейса **GameService**
```java
List<Integer> getSpinResults();
```
вызывается после действия пользователя вызывающего раскрутку барабанов,
и герерирует или получает от удаленного сервера (в зависимости от реализации) комбинацию которая должна отобразится в UI,
затем возвращает его компоненту UI ответвенному за отображение.

Так же в сервис можно добавить методы предоставляющие UI данные для отображения выпадения выйгрышных комбинаций. (Не реализовано).

## UI (VIEW)

Роль UI - получении и обработка действий пользователя, и визуальное отображение данных полученых от сервисов
UI построен с использование фреймворка libGdx.

### Компоненты UI
*В целях упрощения решения задачи я не стал реализовывать паттерн MVC для компонентов содержащих минимальную логику обрабоки отображения данных*
#### Класс MainScreen
В классе MainScreen создаются объекты компонетов UI. Используются компонетны из пакета scene2d
```java
    private Stage stage; //Контейнер
    private GameHUD gameHUD; //Обект отвечающий за отображение HUD 
    private Image backGround; //Фоновое изображение
    private AnimatedButton button; //Анимированная кнопка
    private ReelBar reelBar; // Контейнер содержащий барабаны
    private Image gameFrame; // Текстура игровой области
```
MainScreen содержит логику обработки взаимодействия пользователя (листенер) с кнопкой запускающей вращение барабанов.
При нажатие на кнопку вызывается метод класса ReelBar который запускает раскручивание барабанов.
Так же класс MainScreen имплементит интерфейс CallBack оповещающий а завершении вращения всех барабанов.

##### Класс ReelBar
Является контейнером объектов класса Reel. Отвечает за инициализацию, расположение и управление объектами отображающими барабаны
При создании объекта класса ReelBar нужно указать 
* количество барабанов, отображаемых контейнером 
* время вращения барабанов.

После создания объекта reelBar нужно передать ему
 
* ссылку на объект класса реализующего интерфейс GameService 
* ссылку на объект класса реализующего интерфейс ReelBar.CallBack

Метод

* **void setPosition (int x, int y)** позволяет установить расположение контейнера на игровом экране.
* **void start()** поочередно вызывает метод **void startSpin()** у всех созданных (количество получено при создании объекта) 
объеков класса **Reel** затем после паузы заданной при создании объекта вывовет метод **void stopSpin(int slotNumber)**, 
где параметр slotNumber - номер слота, на котором нужно остановить вращение.

##### Компонент Reel
Отвечает за отображение, вращение и остановку барабана на нужном слоте. У компонента довольно сложная логика, поэтому я
применил к нему паттерн MVC. Одним из преимуществ такого подхода появление возможности написать unit тесты для методов логики.
Основная идея работы этого комнонента в том, что он он получает "зацикленную (бесконечную)" текстуру. Создает регион имеющий 
фиксированный размер который отображает определенный участок этой текстуры, и в дальнейшем двигает этот регион по оси Y отображая
тот или иной участок текстуры.  

##### Конструктор
 * Texture texture  - текстура 
 * int itemsOnScreen - количество итемов (слотов) отображаемых "плавающим" регионом
 * int itemHeight  - высота итема
 * int itemWidth - ширина итем
##### Методы
* **void startSpin()** - Запустить вращение барабана 
* **void stopSpin(int itemNumber)** - Запустить процесс остановки барабана 
* **void registerCallBack(Reel.Callback callback)** - Установить подписчика для получающего оповещение об остановке барабана 
* **void setPosition(float x, float y)** - установить расположение барабана  
* **void setCurrentItem(int number)** - установить стартовую позицию барабана 
##### Реализация
При создании объекта reel создаются объекты классов 
* ReelView - отвечает за отрисовку региона текстуры
* ReelController - обрабатывает события и передает их в класс модели
* ReelModel - содержит данные и логику их обработки

ReelView является Observer'ом класса ReelModel. (Паттерн Observer (реализация классами из java.util)). Когда происходит
изменение данных - model оповещает view о том что нужно перерисовать регион.
ReelController обрабатывает события запуска, остановки барабанов и события перерисовки вызываемое фремворком libGdx.

В перспективе хотелось бы избавится от создания компонентов, внутри других компонетов использовав DI фреймворк.  
